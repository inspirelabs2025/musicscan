{
  "rewrites": [
    { "source": "/sitemap.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=index" },

    // Primary sitemaps under /sitemaps/
    { "source": "/sitemaps/sitemap-static.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=static" },
    { "source": "/sitemaps/sitemap-blog.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=blog" },
    { "source": "/sitemaps/sitemap-music-stories.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=music-stories" },
    { "source": "/sitemaps/sitemap-products.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=products" },
    { "source": "/sitemaps/sitemap-images-blogs.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=images-blogs" },
    { "source": "/sitemaps/sitemap-images-stories.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=images-stories" },
    { "source": "/sitemaps/sitemap-images-products.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=images-products" },

    // Backward-compatible legacy paths
    { "source": "/sitemap-static.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=static" },
    { "source": "/api/sitemap-blog.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=blog" },
    { "source": "/api/sitemap-music-stories.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=music-stories" },
    { "source": "/api/sitemap-products.xml", "destination": "https://ssxbpyqnjfiyubsuonar.supabase.co/functions/v1/serve-sitemap?type=products" }
  ],
  "headers": [
    { "source": "/sitemap*.xml", "headers": [
      { "key": "Content-Type", "value": "application/xml; charset=utf-8" },
      { "key": "Cache-Control", "value": "public, max-age=3600, s-maxage=3600" }
    ]},
    { "source": "/sitemaps/(.*).xml", "headers": [
      { "key": "Content-Type", "value": "application/xml; charset=utf-8" },
      { "key": "Cache-Control", "value": "public, max-age=3600, s-maxage=3600" }
    ]},
    { "source": "/api/sitemap(.*).xml", "headers": [
      { "key": "Content-Type", "value": "application/xml; charset=utf-8" },
      { "key": "Cache-Control", "value": "public, max-age=3600, s-maxage=3600" }
    ]}
  ]
}
